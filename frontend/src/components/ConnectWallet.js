import { useAccount, useConnect, useDisconnect, useNetwork } from "wagmi";
import { InjectedConnector } from "wagmi/connectors/injected";

const emojis = [
	'ðŸ˜„','ðŸ˜ƒ','ðŸ˜€','ðŸ˜Š','â˜º','ðŸ˜‰','ðŸ˜','ðŸ˜˜','ðŸ˜š','ðŸ˜—','ðŸ˜™','ðŸ˜œ','ðŸ˜','ðŸ˜›','ðŸ˜³','ðŸ˜','ðŸ˜”','ðŸ˜Œ','ðŸ˜’','ðŸ˜ž','ðŸ˜£','ðŸ˜¢','ðŸ˜‚','ðŸ˜­','ðŸ˜ª','ðŸ˜¥','ðŸ˜°','ðŸ˜…','ðŸ˜“','ðŸ˜©','ðŸ˜«','ðŸ˜¨','ðŸ˜±','ðŸ˜ ','ðŸ˜¡','ðŸ˜¤','ðŸ˜–','ðŸ˜†','ðŸ˜‹','ðŸ˜·','ðŸ˜Ž','ðŸ˜´','ðŸ˜µ','ðŸ˜²','ðŸ˜Ÿ','ðŸ˜¦','ðŸ˜§','ðŸ˜ˆ','ðŸ‘¿','ðŸ˜®','ðŸ˜¬','ðŸ˜','ðŸ˜•','ðŸ˜¯','ðŸ˜¶','ðŸ˜‡','ðŸ˜','ðŸ˜‘','ðŸ‘²','ðŸ‘³','ðŸ‘®','ðŸ‘·','ðŸ’‚','ðŸ‘¶','ðŸ‘¦','ðŸ‘§','ðŸ‘¨','ðŸ‘©','ðŸ‘´','ðŸ‘µ','ðŸ‘±','ðŸ‘¼','ðŸ‘¸','ðŸ˜º','ðŸ˜¸','ðŸ˜»','ðŸ˜½','ðŸ˜¼','ðŸ™€','ðŸ˜¿','ðŸ˜¹','ðŸ˜¾','ðŸ‘¹','ðŸ‘º','ðŸ™ˆ','ðŸ™‰','ðŸ™Š','ðŸ’€','ðŸ‘½','ðŸ’©','ðŸ”¥','âœ¨','ðŸŒŸ','ðŸ’«','ðŸ’¥','ðŸ’¢','ðŸ’¦','ðŸ’§','ðŸ’¤','ðŸ’¨','ðŸ‘‚','ðŸ‘€','ðŸ‘ƒ','ðŸ‘…','ðŸ‘„','ðŸ‘','ðŸ‘Ž','ðŸ‘Œ','ðŸ‘Š','âœŠ','âœŒ','ðŸ‘‹','âœ‹','ðŸ‘','ðŸ‘†','ðŸ‘‡','ðŸ‘‰','ðŸ‘ˆ','ðŸ™Œ','ðŸ™','â˜','ðŸ‘','ðŸ’ª','ðŸš¶','ðŸƒ','ðŸ’ƒ','ðŸ‘«','ðŸ‘ª','ðŸ‘¬','ðŸ‘­','ðŸ’','ðŸ’‘','ðŸ‘¯','ðŸ™†','ðŸ™…','ðŸ’','ðŸ™‹','ðŸ’†','ðŸ’‡','ðŸ’…','ðŸ‘°','ðŸ™Ž','ðŸ™','ðŸ™‡','ðŸŽ©','ðŸ‘‘','ðŸ‘’','ðŸ‘Ÿ','ðŸ‘ž','ðŸ‘¡','ðŸ‘ ','ðŸ‘¢','ðŸ‘•','ðŸ‘”','ðŸ‘š','ðŸ‘—','ðŸŽ½','ðŸ‘–','ðŸ‘˜','ðŸ‘™','ðŸ’¼','ðŸ‘œ','ðŸ‘','ðŸ‘›','ðŸ‘“','ðŸŽ€','ðŸŒ‚','ðŸ’„','ðŸ’›','ðŸ’™','ðŸ’œ','ðŸ’š','â¤','ðŸ’”','ðŸ’—','ðŸ’“','ðŸ’•','ðŸ’–','ðŸ’ž','ðŸ’˜','ðŸ’Œ','ðŸ’‹','ðŸ’','ðŸ’Ž','ðŸ‘¤','ðŸ‘¥','ðŸ’¬','ðŸ‘£','ðŸ’­','ðŸ¶','ðŸº','ðŸ±','ðŸ­','ðŸ¹','ðŸ°','ðŸ¸','ðŸ¯','ðŸ¨','ðŸ»','ðŸ·','ðŸ½','ðŸ®','ðŸ—','ðŸµ','ðŸ’','ðŸ´','ðŸ‘','ðŸ˜','ðŸ¼','ðŸ§','ðŸ¦','ðŸ¤','ðŸ¥','ðŸ£','ðŸ”','ðŸ','ðŸ¢','ðŸ›','ðŸ','ðŸœ','ðŸž','ðŸŒ','ðŸ™','ðŸš','ðŸ ','ðŸŸ','ðŸ¬','ðŸ³','ðŸ‹','ðŸ„','ðŸ','ðŸ€','ðŸƒ','ðŸ…','ðŸ‡','ðŸ‰','ðŸŽ','ðŸ','ðŸ“','ðŸ•','ðŸ–','ðŸ','ðŸ‚','ðŸ²','ðŸ¡','ðŸŠ','ðŸ«','ðŸª','ðŸ†','ðŸˆ','ðŸ©','ðŸ¾','ðŸ’','ðŸŒ¸','ðŸŒ·','ðŸ€','ðŸŒ¹','ðŸŒ»','ðŸŒº','ðŸ','ðŸƒ','ðŸ‚','ðŸŒ¿','ðŸŒ¾','ðŸ„','ðŸŒµ','ðŸŒ´','ðŸŒ²','ðŸŒ³','ðŸŒ°','ðŸŒ±','ðŸŒ¼','ðŸŒ','ðŸŒž','ðŸŒ','ðŸŒš','ðŸŒ‘','ðŸŒ’','ðŸŒ“','ðŸŒ”','ðŸŒ•','ðŸŒ–','ðŸŒ—','ðŸŒ˜','ðŸŒœ','ðŸŒ›','ðŸŒ™','ðŸŒ','ðŸŒŽ','ðŸŒ','ðŸŒ‹','ðŸŒŒ','ðŸŒ ','â­','â˜€','â›…','â˜','âš¡','â˜”','â„','â›„','ðŸŒ€','ðŸŒ','ðŸŒˆ','ðŸŒŠ','ðŸŽ','ðŸ’','ðŸŽŽ','ðŸŽ’','ðŸŽ“','ðŸŽ','ðŸŽ†','ðŸŽ‡','ðŸŽ','ðŸŽ‘','ðŸŽƒ','ðŸ‘»','ðŸŽ…','ðŸŽ„','ðŸŽ','ðŸŽ‹','ðŸŽ‰','ðŸŽŠ','ðŸŽˆ','ðŸŽŒ','ðŸ”®','ðŸŽ¥','ðŸ“·','ðŸ“¹','ðŸ“¼','ðŸ’¿','ðŸ“€','ðŸ’½','ðŸ’¾','ðŸ’»','ðŸ“±','â˜Ž','ðŸ“ž','ðŸ“Ÿ','ðŸ“ ','ðŸ“¡','ðŸ“º','ðŸ“»','ðŸ”Š','ðŸ”‰','ðŸ”ˆ','ðŸ”‡','ðŸ””','ðŸ”•','ðŸ“¢','ðŸ“£','â³','âŒ›','â°','âŒš','ðŸ”“','ðŸ”’','ðŸ”','ðŸ”','ðŸ”‘','ðŸ”Ž','ðŸ’¡','ðŸ”¦','ðŸ”†','ðŸ”…','ðŸ”Œ','ðŸ”‹','ðŸ”','ðŸ›','ðŸ›€','ðŸš¿','ðŸš½','ðŸ”§','ðŸ”©','ðŸ”¨','ðŸšª','ðŸš¬','ðŸ’£','ðŸ”«','ðŸ”ª','ðŸ’Š','ðŸ’‰','ðŸ’°','ðŸ’´','ðŸ’µ','ðŸ’·','ðŸ’¶','ðŸ’³','ðŸ’¸','ðŸ“²','ðŸ“§','ðŸ“¥','ðŸ“¤','âœ‰','ðŸ“©','ðŸ“¨','ðŸ“¯','ðŸ“«','ðŸ“ª','ðŸ“¬','ðŸ“­','ðŸ“®','ðŸ“¦','ðŸ“','ðŸ“„','ðŸ“ƒ','ðŸ“‘','ðŸ“Š','ðŸ“ˆ','ðŸ“‰','ðŸ“œ','ðŸ“‹','ðŸ“…','ðŸ“†','ðŸ“‡','ðŸ“','ðŸ“‚','âœ‚','ðŸ“Œ','ðŸ“Ž','âœ’','âœ','ðŸ“','ðŸ“','ðŸ“•','ðŸ“—','ðŸ“˜','ðŸ“™','ðŸ““','ðŸ“”','ðŸ“’','ðŸ“š','ðŸ“–','ðŸ”–','ðŸ“›','ðŸ”¬','ðŸ”­','ðŸ“°','ðŸŽ¨','ðŸŽ¬','ðŸŽ¤','ðŸŽ§','ðŸŽ¼','ðŸŽµ','ðŸŽ¶','ðŸŽ¹','ðŸŽ»','ðŸŽº','ðŸŽ·','ðŸŽ¸','ðŸ‘¾','ðŸŽ®','ðŸƒ','ðŸŽ´','ðŸ€„','ðŸŽ²','ðŸŽ¯','ðŸˆ','ðŸ€','âš½','âš¾','ðŸŽ¾','ðŸŽ±','ðŸ‰','ðŸŽ³','â›³','ðŸšµ','ðŸš´','ðŸ','ðŸ‡','ðŸ†','ðŸŽ¿','ðŸ‚','ðŸŠ','ðŸ„','ðŸŽ£','â˜•','ðŸµ','ðŸ¶','ðŸ¼','ðŸº','ðŸ»','ðŸ¸','ðŸ¹','ðŸ·','ðŸ´','ðŸ•','ðŸ”','ðŸŸ','ðŸ—','ðŸ–','ðŸ','ðŸ›','ðŸ¤','ðŸ±','ðŸ£','ðŸ¥','ðŸ™','ðŸ˜','ðŸš','ðŸœ','ðŸ²','ðŸ¢','ðŸ¡','ðŸ³','ðŸž','ðŸ©','ðŸ®','ðŸ¦','ðŸ¨','ðŸ§','ðŸŽ‚','ðŸ°','ðŸª','ðŸ«','ðŸ¬','ðŸ­','ðŸ¯','ðŸŽ','ðŸ','ðŸŠ','ðŸ‹','ðŸ’','ðŸ‡','ðŸ‰','ðŸ“','ðŸ‘','ðŸˆ','ðŸŒ','ðŸ','ðŸ','ðŸ ','ðŸ†','ðŸ…','ðŸŒ½','ðŸ ','ðŸ¡','ðŸ«','ðŸ¢','ðŸ£','ðŸ¥','ðŸ¦','ðŸª','ðŸ©','ðŸ¨','ðŸ’’','â›ª','ðŸ¬','ðŸ¤','ðŸŒ‡','ðŸŒ†','ðŸ¯','ðŸ°','â›º','ðŸ­','ðŸ—¼','ðŸ—¾','ðŸ—»','ðŸŒ„','ðŸŒ…','ðŸŒƒ','ðŸ—½','ðŸŒ‰','ðŸŽ ','ðŸŽ¡','â›²','ðŸŽ¢','ðŸš¢','â›µ','ðŸš¤','ðŸš£','âš“','ðŸš€','âœˆ','ðŸ’º','ðŸš','ðŸš‚','ðŸšŠ','ðŸš‰','ðŸšž','ðŸš†','ðŸš„','ðŸš…','ðŸšˆ','ðŸš‡','ðŸš','ðŸš‹','ðŸšƒ','ðŸšŽ','ðŸšŒ','ðŸš','ðŸš™','ðŸš˜','ðŸš—','ðŸš•','ðŸš–','ðŸš›','ðŸšš','ðŸš¨','ðŸš“','ðŸš”','ðŸš’','ðŸš‘','ðŸš','ðŸš²','ðŸš¡','ðŸšŸ','ðŸš ','ðŸšœ','ðŸ’ˆ','ðŸš','ðŸŽ«','ðŸš¦','ðŸš¥','âš ','ðŸš§','ðŸ”°','â›½','ðŸ®','ðŸŽ°','â™¨','ðŸ—¿','ðŸŽª','ðŸŽ­','ðŸ“','ðŸš©','â¬†','â¬‡','â¬…','âž¡','ðŸ” ','ðŸ”¡','ðŸ”¤','â†—','â†–','â†˜','â†™','â†”','â†•','ðŸ”„','â—€','â–¶','ðŸ”¼','ðŸ”½','â†©','â†ª','â„¹','âª','â©','â«','â¬','â¤µ','â¤´','ðŸ†—','ðŸ”€','ðŸ”','ðŸ”‚','ðŸ†•','ðŸ†™','ðŸ†’','ðŸ†“','ðŸ†–','ðŸ“¶','ðŸŽ¦','ðŸˆ','ðŸˆ¯','ðŸˆ³','ðŸˆµ','ðŸˆ´','ðŸˆ²','ðŸ‰','ðŸˆ¹','ðŸˆº','ðŸˆ¶','ðŸˆš','ðŸš»','ðŸš¹','ðŸšº','ðŸš¼','ðŸš¾','ðŸš°','ðŸš®','ðŸ…¿','â™¿','ðŸš­','ðŸˆ·','ðŸˆ¸','ðŸˆ‚','â“‚','ðŸ›‚','ðŸ›„','ðŸ›…','ðŸ›ƒ','ðŸ‰‘','ãŠ™','ãŠ—','ðŸ†‘','ðŸ†˜','ðŸ†”','ðŸš«','ðŸ”ž','ðŸ“µ','ðŸš¯','ðŸš±','ðŸš³','ðŸš·','ðŸš¸','â›”','âœ³','â‡','âŽ','âœ…','âœ´','ðŸ’Ÿ','ðŸ†š','ðŸ“³','ðŸ“´','ðŸ…°','ðŸ…±','ðŸ†Ž','ðŸ…¾','ðŸ’ ','âž¿','â™»','â™ˆ','â™‰','â™Š','â™‹','â™Œ','â™','â™Ž','â™','â™','â™‘','â™’','â™“','â›Ž','ðŸ”¯','ðŸ§','ðŸ’¹','ðŸ’²','ðŸ’±','Â©','Â®','â„¢','ã€½','ã€°','ðŸ”','ðŸ”š','ðŸ”™','ðŸ”›','ðŸ”œ','âŒ','â­•','â—','â“','â•','â”','ðŸ”ƒ','ðŸ•›','ðŸ•§','ðŸ•','ðŸ•œ','ðŸ•‘','ðŸ•','ðŸ•’','ðŸ•ž','ðŸ•“','ðŸ•Ÿ','ðŸ•”','ðŸ• ','ðŸ••','ðŸ•–','ðŸ•—','ðŸ•˜','ðŸ•™','ðŸ•š','ðŸ•¡','ðŸ•¢','ðŸ•£','ðŸ•¤','ðŸ•¥','ðŸ•¦','âœ–','âž•','âž–','âž—','â™ ','â™¥','â™£','â™¦','ðŸ’®','ðŸ’¯','âœ”','â˜‘','ðŸ”˜','ðŸ”—','âž°','ðŸ”±','ðŸ”²','ðŸ”³','â—¼','â—»','â—¾','â—½','â–ª','â–«','ðŸ”º','â¬œ','â¬›','âš«','âšª','ðŸ”´','ðŸ”µ','ðŸ”»','ðŸ”¶','ðŸ”·','ðŸ”¸','ðŸ”¹'
];

export const getRandomEmoji = (address) => {
    const rand = mulberry32(stringToSeed(address));
    const randomNumber = rand();
    return emojis[Math.floor(randomNumber * emojis.length)];
}

function stringToSeed(str) {
    let seed = 5381;
    for (var i = 0; i < str.length; i++) {
      seed = (seed * 33) ^ str.charCodeAt(i);
    }
    return seed >>> 0; 
  }

function mulberry32(a) {
    return function() {
      let t = a += 0x6D2B79F5;
      t = Math.imul(t ^ t >>> 15, t | 1);
      t ^= t + Math.imul(t ^ t >>> 7, t | 61);
      return ((t ^ t >>> 14) >>> 0) / 4294967296;
    }
}

export const ConnectWallet = () => {
  const { address, isConnected } = useAccount();
  const { chain } = useNetwork();

  const { connect } = useConnect({
    connector: new InjectedConnector(),
  });
  const { disconnect } = useDisconnect();


  return (
    <div className="absolute top-5 right-5">
      {
        (chain && chain.id !== 5001) ? <div className="p-2 bg-gradient-to-br from-red-400 to-pink-600 ">Wrong Chain</div>
        :

      isConnected ? (
        <button
          onClick={() => {
            const result = confirm("Are you sure you want to disconnect?");
            if (result) {
              disconnect();
            }
          }}
          type="button"
          className="truncate bg-gradient-to-br from-green-400 to-blue-600 hover:bg-gradient-to-bl focus:ring-2 focus:outline-none focus:ring-green-200 dark:focus:ring-green-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center mr-2 mb-2"
        >
          <span className="bg-white p-1 rounded-full mr-2">
            {getRandomEmoji(address)}
          </span>
          {address}
        </button>
      ) : (
        <button
          onClick={() => connect()}
          type="button"
          className="bg-gradient-to-br from-green-400 to-blue-600 hover:bg-gradient-to-bl focus:ring-2 focus:outline-none focus:ring-green-200 dark:focus:ring-green-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center mr-2 mb-2"
        >
          Connect with{" "}
          <span className="w-6 h-5 mr-2 ml-1 mb-2">
            <img src="./metamask.svg" alt="Metamask" />
          </span>
        </button>
      )}
    </div>
  );
};
